<html dir="rtl" lang="ar">
    <head>
        <meta name="description" content="استمع إلى الكتب الصوتية باللغة الفرنسية بجودة عالية.">
        <meta name="keywords" content="كتب صوتية, قراءة, استماع, فرنسي, موقع كتب">
        <meta name="author" content="اسم موقعك">
        <title>موقع الكتب الصوتية | استمع لأفضل الكتب</title>
        <title>Lire des livres voix haute
        </title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="validation.css">
        <script src="ee.js"></script>
    
        

        


    </head>
    <body >
       
            <section>
                <div class="container">
                    <div class="login-box">
            
                
                        <form action="register.php" method="post" id="register-form">
                            
                               <h1>أنشاء حساب</h1>
                            <label for="nom">الأسم و اللقب
                            </label>
                            <input type="text" name="nom" id="nom"placeholder="أخل الأسم و لقب " required><br>
                       
                            <label for="women">أنثى  </label>
                            <input type="radio" name="gener" id="women">
                            <label for="men">ذكر</label>
                            <input type="radio" name="gener" id="men"><br>
                            <label for="email">البريد الألكتروني </label>
                            <input type="email" name="email" id="email"placeholder="أدخل البريد الألكتروني" required><br>
                            
                            <label for="password">كلمة المرور </label>
                      
                            <input type="password" name="password" id="password" placeholder="أدخل كلمة المرور" required><br>
                         

                            <input type="submit" value="أنشاء حساب">
                            <p id="register-error" class="error"></p>
                            
                          <a href="aa.html">هل لديك حساب حاليا   أو </a><br>
                       
                            <button class="google-login" id="googleSignup">
                                <img src="gg.png" alt="gougle"  width="40px" height="40px">
                                <i class="fab fa-google"></i> التسجيل عبر جوجل
                            </button>
                            
                        </form>

                    </div>
                </div>
                



                



              







            </section>







        </main>
          
    
<script>
    function register() {
        var email = document.getElementById("email").value;
        var password = document.getElementById("password").value;
        var messageBox = document.getElementById("message");
    
        // تحقق من البريد الإلكتروني
        if (!email.includes("@gmail.com")) {
            messageBox.style.color = "red";
            messageBox.textContent = "البريد الإلكتروني يجب أن يكون من Gmail!";
            return;
        }
    
        // تحقق من كلمة المرور
        if (password.length < 8 || !/[A-Za-z]/.test(password) || !/[0-9]/.test(password)) {
            messageBox.style.color = "red";
            messageBox.textContent = "كلمة المرور يجب أن تحتوي على 8 أحرف على الأقل وتشمل أرقامًا وحروفًا!";
            return;
        }
    
        // إرسال البيانات إلى `register.php`
        var formData = new FormData();
        formData.append("email", email);
        formData.append("password", password);
    
        fetch("register.php", {
            method: "POST",
            body: formData
        })
        .then(response => response.json())
        .then(data => {
            messageBox.style.color = data.status === "success" ? "green" : "red";
            messageBox.textContent = data.message;
        })
        .catch(error => console.error("حدث خطأ:", error));
    }
    </script>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
        import { getAuth, signInWithPopup, GoogleAuthProvider } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";
      
        const firebaseConfig = {
          apiKey: "YOUR_API_KEY",
          authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
          projectId: "YOUR_PROJECT_ID",
          storageBucket: "YOUR_PROJECT_ID.appspot.com",
          messagingSenderId: "YOUR_SENDER_ID",
          appId: "YOUR_APP_ID"
        };
      
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const provider = new GoogleAuthProvider();
      
        document.getElementById("googleSignup").addEventListener("click", () => {
          signInWithPopup(auth, provider)
            .then((result) => {
              const user = result.user;
              alert(`تم إنشاء الحساب بنجاح! \nالبريد الإلكتروني: ${user.email}`);
              window.location.href = "login.html"; // توجيه المستخدم إلى صفحة تسجيل الدخول
            })
            .catch((error) => {
              alert("حدث خطأ أثناء إنشاء الحساب: " + error.message);
            });
        });
      </script>
      
        






    </body>
  












</html>